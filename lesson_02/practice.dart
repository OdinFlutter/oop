import '../progress.dart';

// –£–†–û–ö 2: –ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî –Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è
// –í–∏–∫–æ–Ω—É–π—Ç–µ –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ—Å—Ç—É–ø–æ–≤–æ, —Ä–æ–∑–∫–æ–º–µ–Ω—Ç–æ–≤—É—é—á–∏ taskX() –ø–æ —á–µ—Ä–∑—ñ
// –ó–∞–ø—É—Å–∫: dart practice.dart

void main() {
  // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å-—Ç—Ä–µ–∫–µ—Ä
  ProgressTracker.initialize();
  
  // –ü–æ–∫–∞–∑—É—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å –∫—É—Ä—Å—É
  ProgressTracker.displayProgress();
  
  print('\nüéØ –ü–†–ê–ö–¢–ò–ö–ê ‚Äî –£–†–û–ö 2: –Ü–ù–ö–ê–ü–°–£–õ–Ø–¶–Ü–Ø');
  print('=' * 50);

  // –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
  // task1();
  // task2();
  // task3();
  // task4();
  // task5();

  print('\nüí° –ü–æ—Ä–∞–¥–∞: –†–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ task1() –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏!');
  print('üìö –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ solutions.dart –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.');
}


// =============================================================================
// –ó–ê–í–î–ê–ù–ù–Ø 1: –ë–µ–∑–ø–µ—á–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å –ø—ñ–ª–æ—Ç–∞ (DriverProfile)
// =============================================================================

void task1() {
  print('–ó–ê–í–î–ê–ù–ù–Ø 1: –ë–µ–∑–ø–µ—á–Ω–∏–π –ø—Ä–æ—Ñ—ñ–ª—å –ø—ñ–ª–æ—Ç–∞ (DriverProfile)');
  print('=' * 40);

  /*
  üîé –©–æ —Ç–∞–∫–µ —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è?
  –Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è ‚Äî —Ü–µ –ø—Ä–∏–Ω—Ü–∏–ø –û–û–ü, —è–∫–∏–π –æ–±'—î–¥–Ω—É—î –¥–∞–Ω—ñ —Ç–∞ –º–µ—Ç–æ–¥–∏, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ —Ü–∏–º–∏ –¥–∞–Ω–∏–º–∏, –≤ –æ–¥–Ω–æ–º—É –∫–ª–∞—Å—ñ. –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è (_fieldName) –∑–∞—Ö–∏—â–∞—é—Ç—å –¥–∞–Ω—ñ –≤—ñ–¥ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –∑–∑–æ–≤–Ω—ñ.

  üèÅ –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
  –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ–∫—É –¥–∞–Ω–∏—Ö, –∫–æ–Ω—Ç—Ä–æ–ª—é—î –¥–æ—Å—Ç—É–ø –¥–æ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π —Ç–∞ –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∑–Ω–∞—á–µ–Ω—å.

  ‚úÖ –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:
  1. –°—Ç–≤–æ—Ä–∏ –∫–ª–∞—Å DriverProfile –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:
     - _driverNumber (int): –Ω–æ–º–µ—Ä –ø—ñ–ª–æ—Ç–∞
     - _points (int): –±–∞–ª–∏ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É
     - _salary (double): —Ä—ñ—á–Ω–∞ –∑–∞—Ä–ø–ª–∞—Ç–∞
     - _contractYears (int): —Ä–æ–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

  2. –ü—É–±–ª—ñ—á–Ω—ñ –ø–æ–ª—è:
     - name (String): —ñ–º'—è –ø—ñ–ª–æ—Ç–∞
     - team (String): –ø–æ—Ç–æ—á–Ω–∞ –∫–æ–º–∞–Ω–¥–∞

  3. –í–∏–º–æ–≥–∏:
     - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î name, team, driverNumber, contractYears
     - points —ñ salary –ø–æ—á–∏–Ω–∞—é—Ç—å –∑ 0
     - –°—Ç–≤–æ—Ä–∏ –≥–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è –≤—Å—ñ—Ö –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –ø–æ–ª—ñ–≤
     - –°—Ç–≤–æ—Ä–∏ —Å–µ—Ç—Ç–µ—Ä –¥–ª—è salary –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (–º–∞—î –±—É—Ç–∏ > 0 —ñ < 100M)
     - –ú–µ—Ç–æ–¥ addPoints(int points) –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –±–∞–ª—ñ–≤
     - –ú–µ—Ç–æ–¥ renewContract(int years) –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

  üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:
  - –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è (_fieldName) –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É –∑–∑–æ–≤–Ω—ñ –∫–ª–∞—Å—É
  - –ì–µ—Ç—Ç–µ—Ä–∏ (get) –¥–æ–∑–≤–æ–ª—è—é—Ç—å —á–∏—Ç–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è
  - –°–µ—Ç—Ç–µ—Ä–∏ (set) –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é

  üí° –ü—ñ–¥–∫–∞–∑–∫–∞:
  –î–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –ø–æ–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π _ –ø–µ—Ä–µ–¥ –Ω–∞–∑–≤–æ—é: _salary
  –î–ª—è –≥–µ—Ç—Ç–µ—Ä–∞: double get salary => _salary;
  –î–ª—è —Å–µ—Ç—Ç–µ—Ä–∞: set salary(double value) { if (value > 0 && value < 100000000) _salary = value; }

  üî® –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:

    class DriverProfile {
      // –ü—É–±–ª—ñ—á–Ω—ñ –ø–æ–ª—è
      String name;
      String team;
      
      // –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è (–∑–∞—Ö–∏—â–µ–Ω—ñ)
      int _driverNumber;
      int _points;
      double _salary;
      int _contractYears;

      // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
      DriverProfile(this.name, this.team, this._driverNumber, this._contractYears) {
        _points = 0; // –ü–æ—á–∞—Ç–∫–æ–≤—ñ –±–∞–ª–∏
        _salary = 0; // –ü–æ—á–∞—Ç–∫–æ–≤–∞ –∑–∞—Ä–ø–ª–∞—Ç–∞
      }

      // –ì–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –ø–æ–ª—ñ–≤
      int get driverNumber => _driverNumber;
      int get points => _points;
      double get salary => _salary;
      int get contractYears => _contractYears;

      // –°–µ—Ç—Ç–µ—Ä –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
      set salary(double value) {
        if (value > 0 && value < 100000000) {
          _salary = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: –∑–∞—Ä–ø–ª–∞—Ç–∞ –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 0 —Ç–∞ 100M');
        }
      }

      // –ú–µ—Ç–æ–¥–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏
      void addPoints(int points) {
        if (points > 0) {
          _points += points;
        }
      }

      void renewContract(int years) {
        if (years > 0) {
          _contractYears += years;
        }
      }

      void displayProfile() {
        print('–ü—ñ–ª–æ—Ç: $name, –ö–æ–º–∞–Ω–¥–∞: $team');
        print('–ù–æ–º–µ—Ä: $_driverNumber, –ë–∞–ª–∏: $_points');
        print('–ó–∞—Ä–ø–ª–∞—Ç–∞: $_salary, –ö–æ–Ω—Ç—Ä–∞–∫—Ç: $_contractYears —Ä–æ–∫—ñ–≤');
      }
    }

    void main() {
      DriverProfile max = DriverProfile('–ú–∞–∫—Å –§–µ—Ä—Å—Ç–∞–ø–ø–µ–Ω', 'Red Bull', 1, 3);
      max.addPoints(25);
      max.salary = 50000000; // 50M - –ø—Ä–∞—Ü—é—î
      max.salary = 150000000; // 150M - –ø–æ–º–∏–ª–∫–∞
      max.displayProfile();
    }

  -----------------------------------------------------------------------------
  –Ø–∫—â–æ –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ ‚Äî —Å–∫–æ–ø—ñ—é–π —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —É solutions.dart —ñ –∑–º—ñ–Ω—é–π –¥–∞–Ω—ñ!
  */

  // –¢—É—Ç —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π –π–æ–≥–æ

  print('');

  // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
  ProgressTracker.markTaskCompleted('lesson_02', 'task1');
  print('\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 1 –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ!');
  print('üìä –ü—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.');

  print('');}

// =============================================================================
// –ó–ê–í–î–ê–ù–ù–Ø 2: –ë–µ–∑–ø–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—ó –∞–≤—Ç–æ–º–æ–±—ñ–ª—è (CarTelemetry)
// =============================================================================

void task2() {
  print('–ó–ê–í–î–ê–ù–ù–Ø 2: –ë–µ–∑–ø–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—ó –∞–≤—Ç–æ–º–æ–±—ñ–ª—è (CarTelemetry)');
  print('=' * 50);

  /*
  üîé –©–æ —Ç–∞–∫–µ —Ç–µ–ª–µ–º–µ—Ç—Ä—ñ—è?
  –¢–µ–ª–µ–º–µ—Ç—Ä—ñ—è ‚Äî —Ü–µ —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∞–≤—Ç–æ–º–æ–±—ñ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ (—à–≤–∏–¥–∫—ñ—Å—Ç—å, –æ–±–µ—Ä—Ç–∏ –¥–≤–∏–≥—É–Ω–∞, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —à–∏–Ω —Ç–æ—â–æ).

  üèÅ –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ –º–µ–∂—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∞–≤—Ç–æ–º–æ–±—ñ–ª—è —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–∞—Ç–∏ –ø—Ä–æ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó.

  ‚úÖ –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:
  1. –°—Ç–≤–æ—Ä–∏ –∫–ª–∞—Å CarTelemetry –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:
     - _speed (double): –ø–æ—Ç–æ—á–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å
     - _rpm (int): –æ–±–µ—Ä—Ç–∏ –¥–≤–∏–≥—É–Ω–∞
     - _fuelLevel (double): –≤—ñ–¥—Å–æ—Ç–æ–∫ –ø–∞–ª—å–Ω–æ–≥–æ (0-100)
     - _tyreTemperature (double): —Å–µ—Ä–µ–¥–Ω—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —à–∏–Ω

  2. –ü—É–±–ª—ñ—á–Ω–µ –ø–æ–ª–µ:
     - carNumber (int): –Ω–æ–º–µ—Ä –∞–≤—Ç–æ–º–æ–±—ñ–ª—è

  3. –í–∏–º–æ–≥–∏:
     - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î —Ç—ñ–ª—å–∫–∏ carNumber, –≤—Å—ñ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è –ø–æ—á–∏–Ω–∞—é—Ç—å –∑ 0
     - –ì–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è –≤—Å—ñ—Ö –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –ø–æ–ª—ñ–≤
     - –°–µ—Ç—Ç–µ—Ä–∏ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é:
       - speed: 0-370 –∫–º/–≥–æ–¥
       - rpm: 0-15000
       - fuelLevel: 0-100%
       - tyreTemperature: 0-150¬∞C
     - –û–±—á–∏—Å–ª—é–≤–∞–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å 'status' –ø–æ–≤–µ—Ä—Ç–∞—î: 'Normal', 'Warning', –∞–±–æ 'Critical'
     - –ú–µ—Ç–æ–¥ resetTelemetry() –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –≤—Å—ñ—Ö –∑–Ω–∞—á–µ–Ω—å –¥–æ –±–µ–∑–ø–µ—á–Ω–∏—Ö

  üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤ —Å–µ—Ç—Ç–µ—Ä–∞—Ö –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ–∫—É –∞–≤—Ç–æ–º–æ–±—ñ–ª—è
  - –û–±—á–∏—Å–ª—é–≤–∞–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å status –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î —Å—Ç–∞–Ω —Å–∏—Å—Ç–µ–º–∏

  üí° –ü—ñ–¥–∫–∞–∑–∫–∞:
  –î–ª—è —Å—Ç–∞—Ç—É—Å—É –ø–µ—Ä–µ–≤—ñ—Ä—è–π, —á–∏ –±—É–¥—å-—è–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –Ω–µ–±–µ–∑–ø–µ—á–Ω—ñ–π –∑–æ–Ω—ñ.

  üî® –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:

    class CarTelemetry {
      int carNumber;
      
      // –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è
      double _speed = 0;
      int _rpm = 0;
      double _fuelLevel = 0;
      double _tyreTemperature = 0;

      CarTelemetry(this.carNumber);

      // –ì–µ—Ç—Ç–µ—Ä–∏
      double get speed => _speed;
      int get rpm => _rpm;
      double get fuelLevel => _fuelLevel;
      double get tyreTemperature => _tyreTemperature;

      // –°–µ—Ç—Ç–µ—Ä–∏ –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
      set speed(double value) {
        if (value >= 0 && value <= 370) {
          _speed = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: —à–≤–∏–¥–∫—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 0 —Ç–∞ 370 –∫–º/–≥–æ–¥');
        }
      }

      set rpm(int value) {
        if (value >= 0 && value <= 15000) {
          _rpm = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: –æ–±–µ—Ä—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ –º—ñ–∂ 0 —Ç–∞ 15000');
        }
      }

      set fuelLevel(double value) {
        if (value >= 0 && value <= 100) {
          _fuelLevel = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: —Ä—ñ–≤–µ–Ω—å –ø–∞–ª—å–Ω–æ–≥–æ –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 0 —Ç–∞ 100%');
        }
      }

      set tyreTemperature(double value) {
        if (value >= 0 && value <= 150) {
          _tyreTemperature = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —à–∏–Ω –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 0 —Ç–∞ 150¬∞C');
        }
      }

      // –û–±—á–∏—Å–ª—é–≤–∞–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å —Å—Ç–∞—Ç—É—Å—É
      String get status {
        if (_speed > 350 || _rpm > 14000 || _fuelLevel < 5 || _tyreTemperature > 140) {
          return 'Critical';
        } else if (_speed > 300 || _rpm > 12000 || _fuelLevel < 15 || _tyreTemperature > 120) {
          return 'Warning';
        } else {
          return 'Normal';
        }
      }

      void resetTelemetry() {
        _speed = 0;
        _rpm = 0;
        _fuelLevel = 100;
        _tyreTemperature = 80;
      }

      void displayTelemetry() {
        print('–ê–≤—Ç–æ–º–æ–±—ñ–ª—å #$carNumber:');
        print('–®–≤–∏–¥–∫—ñ—Å—Ç—å: ${_speed} –∫–º/–≥–æ–¥, –û–±–µ—Ä—Ç–∏: $_rpm');
        print('–ü–∞–ª—å–Ω–µ: ${_fuelLevel}%, –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —à–∏–Ω: ${_tyreTemperature}¬∞C');
        print('–°—Ç–∞—Ç—É—Å: $status');
      }
    }

    void main() {
      CarTelemetry car1 = CarTelemetry(1);
      car1.speed = 200;
      car1.rpm = 12000;
      car1.fuelLevel = 15;
      car1.tyreTemperature = 120;
      car1.displayTelemetry();
    }

  -----------------------------------------------------------------------------
  –Ø–∫—â–æ –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ ‚Äî —Å–∫–æ–ø—ñ—é–π —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —É solutions.dart —ñ –∑–º—ñ–Ω—é–π –¥–∞–Ω—ñ!
  */

  // –¢—É—Ç —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π –π–æ–≥–æ

  print('');

  // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
  ProgressTracker.markTaskCompleted('lesson_02', 'task2');
  print('\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 2 –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ!');
  print('üìä –ü—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.');

  print('');}

// =============================================================================
// –ó–ê–í–î–ê–ù–ù–Ø 3: –ú–µ–Ω–µ–¥–∂–µ—Ä –±–∞–ª—ñ–≤ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É (ChampionshipManager)
// =============================================================================

void task3() {
  print('–ó–ê–í–î–ê–ù–ù–Ø 3: –ú–µ–Ω–µ–¥–∂–µ—Ä –±–∞–ª—ñ–≤ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É (ChampionshipManager)');
  print('=' * 45);

  /*
  üîé –©–æ —Ç–∞–∫–µ –º–µ–Ω–µ–¥–∂–µ—Ä —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É?
  –¶–µ —Å–∏—Å—Ç–µ–º–∞, —è–∫–∞ –≤—ñ–¥—Å—Ç–µ–∂—É—î –±–∞–ª–∏ –≤—Å—ñ—Ö –ø—ñ–ª–æ—Ç—ñ–≤, —É–ø—Ä–∞–≤–ª—è—î —Ä–∞—É–Ω–¥–∞–º–∏ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É —Ç–∞ –≤–∏–∑–Ω–∞—á–∞—î –ª—ñ–¥–µ—Ä—ñ–≤.

  üèÅ –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞—Ö—É–≤–∞—Ç–∏ –ø–æ–∑–∏—Ü—ñ—ó, –≤–∏–∑–Ω–∞—á–∞—Ç–∏ –ª—ñ–¥–µ—Ä—ñ–≤ —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ö–æ–¥–æ–º —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É.

  ‚úÖ –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:
  1. –°—Ç–≤–æ—Ä–∏ –∫–ª–∞—Å ChampionshipManager –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:
     - _drivers (Map<String, int>): —ñ–º'—è –ø—ñ–ª–æ—Ç–∞ -> –±–∞–ª–∏
     - _maxRounds (int): –∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–∞—É–Ω–¥—ñ–≤
     - _currentRound (int): –ø–æ—Ç–æ—á–Ω–∏–π —Ä–∞—É–Ω–¥

  2. –í–∏–º–æ–≥–∏:
     - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î maxRounds (–º–∞—î –±—É—Ç–∏ > 0)
     - –ì–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è currentRound, maxRounds
     - –ú–µ—Ç–æ–¥ addDriver(String name) –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø—ñ–ª–æ—Ç–∞ –∑ 0 –±–∞–ª–∞–º–∏
     - –ú–µ—Ç–æ–¥ addRaceResult(String driverName, int position) –¥–ª—è –Ω–∞—Ä–∞—Ö—É–≤–∞–Ω–Ω—è –±–∞–ª—ñ–≤:
       1-—à–µ: 25, 2-–≥–µ: 18, 3-—Ç—î: 15, 4-—Ç–µ: 12, 5-—Ç–µ: 10,
       6-—Ç–µ: 8, 7-–º–µ: 6, 8-–º–µ: 4, 9-—Ç–µ: 2, 10-—Ç–µ: 1, —ñ–Ω—à—ñ: 0
     - –ú–µ—Ç–æ–¥ nextRound() –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ —Ä–∞—É–Ω–¥—É
     - –ì–µ—Ç—Ç–µ—Ä 'leader' –ø–æ–≤–µ—Ä—Ç–∞—î —ñ–º'—è –ª—ñ–¥–µ—Ä–∞ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—É
     - –ì–µ—Ç—Ç–µ—Ä 'standings' –ø–æ–≤–µ—Ä—Ç–∞—î –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –ø—ñ–ª–æ—Ç—ñ–≤ –∑–∞ –±–∞–ª–∞–º–∏
     - –ú–µ—Ç–æ–¥ getDriverPoints(String name) –ø–æ–≤–µ—Ä—Ç–∞—î –±–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—ñ–ª–æ—Ç–∞

  üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:
  - Map<String, int> –∑–±–µ—Ä—ñ–≥–∞—î –ø–∞—Ä–∏ "—ñ–º'—è –ø—ñ–ª–æ—Ç–∞ - –±–∞–ª–∏"
  - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∑–Ω–∞—á–∏—Ç–∏ –ø–æ–∑–∏—Ü—ñ—ó –≤ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—ñ

  üí° –ü—ñ–¥–∫–∞–∑–∫–∞:
  –î–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π entries.toList() —Ç–∞ sort().

  üî® –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:

    class ChampionshipManager {
      Map<String, int> _drivers = {};
      int _maxRounds;
      int _currentRound = 0;

      ChampionshipManager(this._maxRounds) {
        if (_maxRounds <= 0) {
          throw ArgumentError('–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–∞—É–Ω–¥—ñ–≤ –º–∞—î –±—É—Ç–∏ –±—ñ–ª—å—à–µ 0');
        }
      }

      // –ì–µ—Ç—Ç–µ—Ä–∏
      int get currentRound => _currentRound;
      int get maxRounds => _maxRounds;

      void addDriver(String name) {
        if (!_drivers.containsKey(name)) {
          _drivers[name] = 0;
        }
      }

      void addRaceResult(String driverName, int position) {
        if (!_drivers.containsKey(driverName)) {
          addDriver(driverName);
        }

        int points = 0;
        switch (position) {
          case 1: points = 25; break;
          case 2: points = 18; break;
          case 3: points = 15; break;
          case 4: points = 12; break;
          case 5: points = 10; break;
          case 6: points = 8; break;
          case 7: points = 6; break;
          case 8: points = 4; break;
          case 9: points = 2; break;
          case 10: points = 1; break;
          default: points = 0;
        }

        _drivers[driverName] = (_drivers[driverName] ?? 0) + points;
      }

      void nextRound() {
        if (_currentRound < _maxRounds) {
          _currentRound++;
        }
      }

      String? get leader {
        if (_drivers.isEmpty) return null;
        
        String leaderName = _drivers.keys.first;
        int maxPoints = _drivers[leaderName]!;
        
        for (var entry in _drivers.entries) {
          if (entry.value > maxPoints) {
            maxPoints = entry.value;
            leaderName = entry.key;
          }
        }
        
        return leaderName;
      }

      List<MapEntry<String, int>> get standings {
        var entries = _drivers.entries.toList();
        entries.sort((a, b) => b.value.compareTo(a.value));
        return entries;
      }

      int getDriverPoints(String name) {
        return _drivers[name] ?? 0;
      }

      void displayStandings() {
        print('–ü–æ–∑–∏—Ü—ñ—ó –≤ —á–µ–º–ø—ñ–æ–Ω–∞—Ç—ñ (—Ä–∞—É–Ω–¥ $_currentRound/$_maxRounds):');
        for (int i = 0; i < standings.length; i++) {
          var entry = standings[i];
          print('${i + 1}. ${entry.key} - ${entry.value} –±–∞–ª—ñ–≤');
        }
        print('–õ—ñ–¥–µ—Ä: ${leader ?? "–ù–µ–º–∞—î"}');
      }
    }

    void main() {
      ChampionshipManager championship = ChampionshipManager(23);
      championship.addDriver('–ú–∞–∫—Å –§–µ—Ä—Å—Ç–∞–ø–ø–µ–Ω');
      championship.addDriver('–õ—å—é—ó—Å –•–µ–º—ñ–ª—Ç–æ–Ω');
      championship.addDriver('–®–∞—Ä–ª—å –õ–µ–∫–ª–µ—Ä');

      championship.addRaceResult('–ú–∞–∫—Å –§–µ—Ä—Å—Ç–∞–ø–ø–µ–Ω', 1);
      championship.addRaceResult('–õ—å—é—ó—Å –•–µ–º—ñ–ª—Ç–æ–Ω', 2);
      championship.addRaceResult('–®–∞—Ä–ª—å –õ–µ–∫–ª–µ—Ä', 3);

      championship.displayStandings();
      championship.nextRound();
    }

  -----------------------------------------------------------------------------
  –Ø–∫—â–æ –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ ‚Äî —Å–∫–æ–ø—ñ—é–π —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —É solutions.dart —ñ –∑–º—ñ–Ω—é–π –¥–∞–Ω—ñ!
  */

  // –¢—É—Ç —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π –π–æ–≥–æ

  print('');

  // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
  ProgressTracker.markTaskCompleted('lesson_02', 'task3');
  print('\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 3 –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ!');
  print('üìä –ü—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.');

  print('');}

// =============================================================================
// –ó–ê–í–î–ê–ù–ù–Ø 4: –ë–µ–∑–ø–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–¥—ñ–æ –∫–æ–º–∞–Ω–¥–∏ (TeamRadio)
// =============================================================================

void task4() {
  print('–ó–ê–í–î–ê–ù–ù–Ø 4: –ë–µ–∑–ø–µ—á–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–¥—ñ–æ –∫–æ–º–∞–Ω–¥–∏ (TeamRadio)');
  print('=' * 45);

  /*
  üîé –©–æ —Ç–∞–∫–µ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–¥—ñ–æ –∫–æ–º–∞–Ω–¥–∏?
  –¶–µ —Å–∏—Å—Ç–µ–º–∞ –∑–≤'—è–∑–∫—É –º—ñ–∂ –ø—ñ–ª–æ—Ç–æ–º —Ç–∞ –∫–æ–º–∞–Ω–¥–æ—é, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —à–∏—Ñ—Ä—É–≤–∞—Ç–∏ —ó—Ö —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é.

  üèÅ –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
  –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—á–Ω–∏–π –∑–≤'—è–∑–æ–∫, –¥–æ–∑–≤–æ–ª—è—î —à–∏—Ñ—Ä—É–≤–∞—Ç–∏ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó.

  ‚úÖ –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:
  1. –°—Ç–≤–æ—Ä–∏ –∫–ª–∞—Å TeamRadio –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:
     - _messages (List<String>): –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–∞–¥—ñ–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
     - _isEncrypted (bool): —á–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
     - _frequency (double): —á–∞—Å—Ç–æ—Ç–∞ —Ä–∞–¥—ñ–æ
     - _maxMessages (int): –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

  2. –ü—É–±–ª—ñ—á–Ω–µ –ø–æ–ª–µ:
     - teamName (String): –Ω–∞–∑–≤–∞ –∫–æ–º–∞–Ω–¥–∏

  3. –í–∏–º–æ–≥–∏:
     - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î teamName, frequency, maxMessages
     - isEncrypted –ø–æ—á–∏–Ω–∞—î —è–∫ false
     - –ì–µ—Ç—Ç–µ—Ä–∏ –¥–ª—è frequency, messageCount, isEncrypted
     - –°–µ—Ç—Ç–µ—Ä –¥–ª—è frequency (88.0-108.0 –ú–ì—Ü —Ç—ñ–ª—å–∫–∏)
     - –ú–µ—Ç–æ–¥ sendMessage(String message) –¥–æ–¥–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–æ —Å–ø–∏—Å–∫—É
     - –ú–µ—Ç–æ–¥ enableEncryption() / disableEncryption()
     - –ú–µ—Ç–æ–¥ getLastMessage() –ø–æ–≤–µ—Ä—Ç–∞—î –æ—Å—Ç–∞–Ω–Ω—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞–±–æ 'No messages'
     - –ú–µ—Ç–æ–¥ clearMessages() –≤–∏–¥–∞–ª—è—î –≤—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
     - –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –º–µ—Ç–æ–¥ _encryptMessage(String msg) –ø–æ–≤–µ—Ä—Ç–∞—î 'ENCRYPTED: ' + msg

  üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:
  - –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –º–µ—Ç–æ–¥ _encryptMessage –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É
  - –°–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –º–∞—î –æ–±–º–µ–∂–µ–Ω—É –¥–æ–≤–∂–∏–Ω—É

  üí° –ü—ñ–¥–∫–∞–∑–∫–∞:
  –Ø–∫—â–æ —Å–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø–æ–≤–Ω–∏–π, –≤–∏–¥–∞–ª–∏ –Ω–∞–π—Å—Ç–∞—Ä—ñ—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–µ—Ä–µ–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –Ω–æ–≤–æ–≥–æ.

  üî® –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:

    class TeamRadio {
      String teamName;
      
      List<String> _messages = [];
      bool _isEncrypted = false;
      double _frequency;
      int _maxMessages;

      TeamRadio(this.teamName, this._frequency, this._maxMessages) {
        if (_frequency < 88.0 || _frequency > 108.0) {
          throw ArgumentError('–ß–∞—Å—Ç–æ—Ç–∞ –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 88.0 —Ç–∞ 108.0 –ú–ì—Ü');
        }
      }

      // –ì–µ—Ç—Ç–µ—Ä–∏
      double get frequency => _frequency;
      int get messageCount => _messages.length;
      bool get isEncrypted => _isEncrypted;

      // –°–µ—Ç—Ç–µ—Ä –¥–ª—è —á–∞—Å—Ç–æ—Ç–∏
      set frequency(double value) {
        if (value >= 88.0 && value <= 108.0) {
          _frequency = value;
        } else {
          print('–ü–æ–º–∏–ª–∫–∞: —á–∞—Å—Ç–æ—Ç–∞ –º–∞—î –±—É—Ç–∏ –º—ñ–∂ 88.0 —Ç–∞ 108.0 –ú–ì—Ü');
        }
      }

      void sendMessage(String message) {
        String finalMessage = _isEncrypted ? _encryptMessage(message) : message;
        
        _messages.add(finalMessage);
        
        // –Ø–∫—â–æ —Å–ø–∏—Å–æ–∫ –ø–æ–≤–Ω–∏–π, –≤–∏–¥–∞–ª–∏ –Ω–∞–π—Å—Ç–∞—Ä—ñ—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
        if (_messages.length > _maxMessages) {
          _messages.removeAt(0);
        }
      }

      void enableEncryption() {
        _isEncrypted = true;
        print('–®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —É–≤—ñ–º–∫–Ω–µ–Ω–æ');
      }

      void disableEncryption() {
        _isEncrypted = false;
        print('–®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –≤–∏–º–∫–Ω–µ–Ω–æ');
      }

      String getLastMessage() {
        if (_messages.isEmpty) {
          return 'No messages';
        }
        return _messages.last;
      }

      void clearMessages() {
        _messages.clear();
        print('–í—Å—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ');
      }

      // –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è
      String _encryptMessage(String msg) {
        return 'ENCRYPTED: $msg';
      }

      void displayRadioInfo() {
        print('–†–∞–¥—ñ–æ –∫–æ–º–∞–Ω–¥–∏: $teamName');
        print('–ß–∞—Å—Ç–æ—Ç–∞: ${_frequency} –ú–ì—Ü');
        print('–®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è: ${_isEncrypted ? "–£–≤—ñ–º–∫–Ω–µ–Ω–æ" : "–í–∏–º–∫–Ω–µ–Ω–æ"}');
        print('–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å: ${_messages.length}/$_maxMessages');
        if (_messages.isNotEmpty) {
          print('–û—Å—Ç–∞–Ω–Ω—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è: ${getLastMessage()}');
        }
      }
    }

    void main() {
      TeamRadio radio = TeamRadio('Ferrari', 95.5, 5);
      radio.sendMessage('–í—ñ–∫–Ω–æ –ø—ñ—Ç-—Å—Ç–æ–ø—É –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è');
      radio.enableEncryption();
      radio.sendMessage('–ó–º—ñ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó');
      radio.displayRadioInfo();
    }

  -----------------------------------------------------------------------------
  –Ø–∫—â–æ –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ ‚Äî —Å–∫–æ–ø—ñ—é–π —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —É solutions.dart —ñ –∑–º—ñ–Ω—é–π –¥–∞–Ω—ñ!
  */

  // –¢—É—Ç —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π –π–æ–≥–æ

  print('');

  // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
  ProgressTracker.markTaskCompleted('lesson_02', 'task4');
  print('\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 4 –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ!');
  print('üìä –ü—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.');

  print('');}

// =============================================================================
// –ó–ê–í–î–ê–ù–ù–Ø 5: –ü—Ä–æ—Å—É–Ω—É—Ç–∏–π —Ç–∞–π–º–µ—Ä –ø—ñ—Ç-—Å—Ç–æ–ø—É –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (PitStopTimer)
// =============================================================================

void task5() {
  print('–ó–ê–í–î–ê–ù–ù–Ø 5: –ü—Ä–æ—Å—É–Ω—É—Ç–∏–π —Ç–∞–π–º–µ—Ä –ø—ñ—Ç-—Å—Ç–æ–ø—É –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (PitStopTimer)');
  print('=' * 55);

  /*
  üîé –©–æ —Ç–∞–∫–µ —Ç–∞–π–º–µ—Ä –ø—ñ—Ç-—Å—Ç–æ–ø—É?
  –¶–µ —Å–∏—Å—Ç–µ–º–∞, —è–∫–∞ –≤—ñ–¥—Å—Ç–µ–∂—É—î —á–∞—Å –ø—ñ—Ç-—Å—Ç–æ–ø—É, –∫—ñ–ª—å–∫—ñ—Å—Ç—å —á–ª–µ–Ω—ñ–≤ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∞–ª—ñ–¥–Ω–æ—Å—Ç—ñ –∑—É–ø–∏–Ω–∫–∏.

  üèÅ –ù–∞–≤—ñ—â–æ —Ü–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ?
  –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —è–∫—ñ—Å—Ç—å –ø—ñ—Ç-—Å—Ç–æ–ø—ñ–≤, –∑–∞–±–µ–∑–ø–µ—á—É–≤–∞—Ç–∏ –±–µ–∑–ø–µ–∫—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥–∏.

  ‚úÖ –©–æ —Ç—Ä–µ–±–∞ –∑—Ä–æ–±–∏—Ç–∏:
  1. –°—Ç–≤–æ—Ä–∏ –∫–ª–∞—Å PitStopTimer –∑ –ø—Ä–∏–≤–∞—Ç–Ω–∏–º–∏ –ø–æ–ª—è–º–∏:
     - _startTime (DateTime?): –∫–æ–ª–∏ –ø—ñ—Ç-—Å—Ç–æ–ø –ø–æ—á–∞–≤—Å—è
     - _endTime (DateTime?): –∫–æ–ª–∏ –ø—ñ—Ç-—Å—Ç–æ–ø –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è
     - _minCrewMembers (int): –º—ñ–Ω—ñ–º—É–º –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∞–ª—ñ–¥–Ω–æ—ó –∑—É–ø–∏–Ω–∫–∏
     - _currentCrewMembers (int): –ø–æ—Ç–æ—á–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥–∏
     - _tasks (Map<String, bool>): —Å—Ç–∞—Ç—É—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å –ø—ñ—Ç-—Å—Ç–æ–ø—É

  2. –í–∏–º–æ–≥–∏:
     - –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—î minCrewMembers (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 12)
     - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π _tasks –∑: 'Front tyres', 'Rear tyres', 'Fuel', 'Adjustments'
     - –ì–µ—Ç—Ç–µ—Ä isInProgress –ø–æ–≤–µ—Ä—Ç–∞—î true, —è–∫—â–æ –ø–æ—á–∞–≤—Å—è, –∞–ª–µ –Ω–µ –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è
     - –ì–µ—Ç—Ç–µ—Ä duration –ø–æ–≤–µ—Ä—Ç–∞—î Duration? –ø—ñ—Ç-—Å—Ç–æ–ø—É (null, —è–∫—â–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
     - –ì–µ—Ç—Ç–µ—Ä isValidStop –ø–æ–≤–µ—Ä—Ç–∞—î true, —è–∫—â–æ –∫–æ–º–∞–Ω–¥–∞ >= –º—ñ–Ω—ñ–º—É–º—É —ñ –≤—Å—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω—ñ
     - –ú–µ—Ç–æ–¥ startPitStop(int crewMembers) –ø–æ—á–∏–Ω–∞—î —Ç–∞–π–º–µ—Ä
     - –ú–µ—Ç–æ–¥ completeTask(String taskName) –ø–æ–∑–Ω–∞—á–∞—î –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
     - –ú–µ—Ç–æ–¥ endPitStop() –∑—É–ø–∏–Ω—è—î —Ç–∞–π–º–µ—Ä —ñ –ø–æ–≤–µ—Ä—Ç–∞—î —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å
     - –ú–µ—Ç–æ–¥ reset() –æ—á–∏—â–∞—î –≤—Å—ñ –¥–∞–Ω—ñ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—ñ—Ç-—Å—Ç–æ–ø—É
     - –û–±—á–∏—Å–ª—é–≤–∞–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å 'status' –ø–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å

  üß© –ü–æ—è—Å–Ω–µ–Ω–Ω—è:
  - DateTime? –æ–∑–Ω–∞—á–∞—î, —â–æ —á–∞—Å –º–æ–∂–µ –±—É—Ç–∏ null (—è–∫—â–æ –ø—ñ—Ç-—Å—Ç–æ–ø —â–µ –Ω–µ –ø–æ—á–∞–≤—Å—è)
  - Map<String, bool> –∑–±–µ—Ä—ñ–≥–∞—î –ø–∞—Ä–∏ "–Ω–∞–∑–≤–∞ –∑–∞–≤–¥–∞–Ω–Ω—è - –≤–∏–∫–æ–Ω–∞–Ω–æ/–Ω—ñ"

  üí° –ü—ñ–¥–∫–∞–∑–∫–∞:
  –î–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π endTime.difference(startTime).

  üî® –ü–æ–∫—Ä–æ–∫–æ–≤–∏–π –ø—Ä–∏–∫–ª–∞–¥:

    class PitStopTimer {
      DateTime? _startTime;
      DateTime? _endTime;
      int _minCrewMembers;
      int _currentCrewMembers = 0;
      Map<String, bool> _tasks = {};

      PitStopTimer([this._minCrewMembers = 12]) {
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑–∞–≤–¥–∞–Ω—å
        _tasks['Front tyres'] = false;
        _tasks['Rear tyres'] = false;
        _tasks['Fuel'] = false;
        _tasks['Adjustments'] = false;
      }

      // –ì–µ—Ç—Ç–µ—Ä–∏
      bool get isInProgress => _startTime != null && _endTime == null;
      Duration? get duration {
        if (_startTime != null && _endTime != null) {
          return _endTime!.difference(_startTime!);
        }
        return null;
      }

      bool get isValidStop {
        bool crewValid = _currentCrewMembers >= _minCrewMembers;
        bool tasksValid = _tasks.values.every((task) => task);
        return crewValid && tasksValid;
      }

      void startPitStop(int crewMembers) {
        if (isInProgress) {
          print('–ü—ñ—Ç-—Å—Ç–æ–ø –≤–∂–µ –ø–æ—á–∞–≤—Å—è!');
          return;
        }
        
        _startTime = DateTime.now();
        _currentCrewMembers = crewMembers;
        print('–ü—ñ—Ç-—Å—Ç–æ–ø –ø–æ—á–∞–≤—Å—è –∑ $crewMembers —á–ª–µ–Ω–∞–º–∏ –∫–æ–º–∞–Ω–¥–∏');
      }

      void completeTask(String taskName) {
        if (!isInProgress) {
          print('–ü—ñ—Ç-—Å—Ç–æ–ø –Ω–µ –ø–æ—á–∞–≤—Å—è!');
          return;
        }

        if (_tasks.containsKey(taskName)) {
          _tasks[taskName] = true;
          print('–ó–∞–≤–¥–∞–Ω–Ω—è "$taskName" –≤–∏–∫–æ–Ω–∞–Ω–æ');
        } else {
          print('–ù–µ–≤—ñ–¥–æ–º–µ –∑–∞–≤–¥–∞–Ω–Ω—è: $taskName');
        }
      }

      Duration? endPitStop() {
        if (!isInProgress) {
          print('–ü—ñ—Ç-—Å—Ç–æ–ø –Ω–µ –ø–æ—á–∞–≤—Å—è!');
          return null;
        }

        _endTime = DateTime.now();
        var duration = this.duration;
        
        print('–ü—ñ—Ç-—Å—Ç–æ–ø –∑–∞–≤–µ—Ä—à–µ–Ω–æ –∑–∞ ${duration?.inMilliseconds} –º—Å');
        print('–í–∞–ª—ñ–¥–Ω–∞ –∑—É–ø–∏–Ω–∫–∞: ${isValidStop ? "–¢–∞–∫" : "–ù—ñ"}');
        
        return duration;
      }

      void reset() {
        _startTime = null;
        _endTime = null;
        _currentCrewMembers = 0;
        _tasks.forEach((key, value) => _tasks[key] = false);
        print('–¢–∞–π–º–µ—Ä —Å–∫–∏–Ω—É—Ç–æ');
      }

      String get status {
        if (!isInProgress && _startTime == null) {
          return '–ì–æ—Ç–æ–≤–∏–π –¥–æ –ø—ñ—Ç-—Å—Ç–æ–ø—É';
        } else if (isInProgress) {
          var completedTasks = _tasks.values.where((task) => task).length;
          var totalTasks = _tasks.length;
          return '–ü—ñ—Ç-—Å—Ç–æ–ø –≤ –ø—Ä–æ—Ü–µ—Å—ñ: $completedTasks/$totalTasks –∑–∞–≤–¥–∞–Ω—å –≤–∏–∫–æ–Ω–∞–Ω–æ';
        } else {
          return '–ü—ñ—Ç-—Å—Ç–æ–ø –∑–∞–≤–µ—Ä—à–µ–Ω–æ. –í–∞–ª—ñ–¥–Ω–∞ –∑—É–ø–∏–Ω–∫–∞: ${isValidStop ? "–¢–∞–∫" : "–ù—ñ"}';
        }
      }

      void displayStatus() {
        print('–°—Ç–∞—Ç—É—Å –ø—ñ—Ç-—Å—Ç–æ–ø—É: $status');
        if (isInProgress) {
          print('–ö–æ–º–∞–Ω–¥–∞: $_currentCrewMembers/$_minCrewMembers –º—ñ–Ω—ñ–º—É–º');
          _tasks.forEach((task, completed) {
            print('  $task: ${completed ? "‚úì" : "‚úó"}');
          });
        }
      }
    }

    void main() async {
      PitStopTimer timer = PitStopTimer(14);
      timer.startPitStop(16);
      
      // –°–∏–º—É–ª—è—Ü—ñ—è —Ä–æ–±–æ—Ç–∏
      await Future.delayed(Duration(milliseconds: 100));
      timer.completeTask('Front tyres');
      timer.completeTask('Rear tyres');
      timer.completeTask('Fuel');
      timer.completeTask('Adjustments');
      
      Duration? pitTime = timer.endPitStop();
      timer.displayStatus();
    }

  -----------------------------------------------------------------------------
  –Ø–∫—â–æ –Ω–µ –∑—Ä–æ–∑—É–º—ñ–ª–æ ‚Äî —Å–∫–æ–ø—ñ—é–π —Ü–µ–π –ø—Ä–∏–∫–ª–∞–¥ —É solutions.dart —ñ –∑–º—ñ–Ω—é–π –¥–∞–Ω—ñ!
  */

  // –¢—É—Ç —Å—Ç–≤–æ—Ä–∏ —Å–≤—ñ–π –∫–ª–∞—Å —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–π –π–æ–≥–æ

  print('');

  // –ü–æ–∑–Ω–∞—á–∞—î–º–æ –∑–∞–≤–¥–∞–Ω–Ω—è —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ
  ProgressTracker.markTaskCompleted('lesson_02', 'task5');
  print('\n‚úÖ –ó–∞–≤–¥–∞–Ω–Ω—è 5 –ø–æ–∑–Ω–∞—á–µ–Ω–æ —è–∫ –≤–∏–∫–æ–Ω–∞–Ω–µ!');
  print('üìä –ü—Ä–æ–≥—Ä–µ—Å –æ–Ω–æ–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.');

  print('');}

// =============================================================================
// –ü–Ü–î–ö–ê–ó–ö–ò –î–õ–Ø –ù–û–í–ê–ß–ö–Ü–í
// =============================================================================

/*
–ü–Ü–î–ö–ê–ó–ö–ò:

1. –ü—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è (_fieldName) –∑–∞—Ö–∏—â–∞—é—Ç—å –¥–∞–Ω—ñ –≤—ñ–¥ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø—É
2. –ì–µ—Ç—Ç–µ—Ä–∏ (get) –¥–æ–∑–≤–æ–ª—è—é—Ç—å —á–∏—Ç–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è
3. –°–µ—Ç—Ç–µ—Ä–∏ (set) –¥–æ–∑–≤–æ–ª—è—é—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø–æ–ª—è –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
4. –û–±—á–∏—Å–ª—é–≤–∞–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ (get) —Ä–∞—Ö—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
5. –ü—Ä–∏–≤–∞—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ (_methodName) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É

DART:
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π _ –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö —á–ª–µ–Ω—ñ–≤ –∫–ª–∞—Å—É
- –ì–µ—Ç—Ç–µ—Ä–∏ —Ç–∞ —Å–µ—Ç—Ç–µ—Ä–∏ –º–æ–∂–Ω–∞ –æ–≥–æ–ª–æ—à—É–≤–∞—Ç–∏ —è–∫ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
- Map<String, bool> –∑—Ä—É—á–Ω–æ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–∞—Ä –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–Ω—è
- DateTime? –æ–∑–Ω–∞—á–∞—î nullable —Ç–∏–ø (–º–æ–∂–µ –±—É—Ç–∏ null)
*/
